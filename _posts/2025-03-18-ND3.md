---
layout: single
comments: true
title:  "UI "
excerpt: "ìœ ë‹ˆí‹° íŒ€ í”„ë¡œì íŠ¸"
categories: 
- ìœ ë‹ˆí‹°
- ìŠ¤íŒŒë¥´íƒ€
tags:
- TIL
 
toc_label: 3D í¼ì¦ ìš”ì†Œ
toc: true
toc_sticky: true
 
date: 2025-03-18
last_modified_at: 2025-03-18
---

### ğŸ“† ì˜¤ëŠ˜ì˜ TIL (Today I Learned)

---

ì´ ì½”ë“œì—ì„œ ì‚¬ìš©ëœ **ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ**ì€ **C#ì˜ ë¸ë¦¬ê²Œì´íŠ¸(delegate)ì™€ ì´ë²¤íŠ¸(event)** ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ íŠ¹ì • ì´ë²¤íŠ¸ê°€ ë°œìƒí–ˆì„ ë•Œ ì—¬ëŸ¬ ê°œì˜ ë¦¬ìŠ¤ë„ˆ(êµ¬ë…ì)ê°€ ë°˜ì‘í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

------

## **1. ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ ê¸°ë³¸ ê°œë…**

C#ì—ì„œ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ë ¤ë©´ ë‹¤ìŒ ê°œë…ì„ ì´í•´í•´ì•¼ í•©ë‹ˆë‹¤.

1. **ë¸ë¦¬ê²Œì´íŠ¸(Delegate)**
   - íŠ¹ì • ë©”ì„œë“œì˜ í˜•ì‹ì„ ì •ì˜í•˜ëŠ” í¬ì¸í„° ì—­í• ì„ í•©ë‹ˆë‹¤.
   - ë©”ì„œë“œë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì „ë‹¬í•  ìˆ˜ ìˆìŒ.
   - ì˜ˆ: `public delegate void ScoreChanged(int newScore);`
2. **ì´ë²¤íŠ¸(Event)**
   - ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ íŠ¹ë³„í•œ ìœ í˜•ì˜ ë©¤ë²„.
   - `event` í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì •ì˜ë¨.
   - íŠ¹ì • ì¡°ê±´ì´ ë§Œì¡±ë  ë•Œ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ.
   - ì˜ˆ: `public event ScoreChanged OnScoreChanged;`
3. **ì´ë²¤íŠ¸ êµ¬ë…(Subscribe) & í•´ì œ(Unsubscribe)**
   - ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ë©´ íŠ¹ì • ìƒí™©ì—ì„œ ìë™ìœ¼ë¡œ í•´ë‹¹ ë©”ì„œë“œê°€ í˜¸ì¶œë¨.
   - í•„ìš” ì—†ì„ ë•ŒëŠ” êµ¬ë…ì„ í•´ì œí•´ì•¼ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŒ.
   - `+=` ì—°ì‚°ìë¡œ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³  `-=` ì—°ì‚°ìë¡œ êµ¬ë…ì„ í•´ì œí•¨.

------

## **2. ì´ë²¤íŠ¸ê°€ ì‚¬ìš©ëœ ë¶€ë¶„ ë¶„ì„**

### **(1) ì ìˆ˜ ì‹œìŠ¤í…œ ê´€ë ¨ ì´ë²¤íŠ¸**

```
csharpë³µì‚¬í¸ì§‘private void SubscribeToEvents()
{
    if (ScoreManager.Instance != null)
    {
        ScoreManager.Instance.OnScoreChanged += UpdateScoreUI;
    }

    if (TimeManager.Instance != null)
    {
        TimeManager.Instance.OnTimeUpdated += UpdateTimerUI;
    }
}
```

**ì„¤ëª…:**

- `ScoreManager.Instance.OnScoreChanged += UpdateScoreUI;`
  - `ScoreManager`ì—ì„œ `OnScoreChanged` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ `UpdateScoreUI` ë©”ì„œë“œê°€ ì‹¤í–‰ë¨.
  - ì¦‰, ì ìˆ˜ê°€ ë³€ê²½ë˜ë©´ UIë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ í•¨.
- `TimeManager.Instance.OnTimeUpdated += UpdateTimerUI;`
  - `TimeManager`ì—ì„œ `OnTimeUpdated` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ `UpdateTimerUI` ë©”ì„œë“œê°€ ì‹¤í–‰ë¨.
  - ì¦‰, íƒ€ì´ë¨¸ ê°’ì´ ë³€í•˜ë©´ ìë™ìœ¼ë¡œ UIê°€ ê°±ì‹ ë¨.

------

### **(2) ì´ë²¤íŠ¸ êµ¬ë… í•´ì œ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€)**

```
csharpë³µì‚¬í¸ì§‘private void OnDisable()
{
    UnsubscribeFromEvents();
}

private void UnsubscribeFromEvents()
{
    if (ScoreManager.Instance != null)
    {
        ScoreManager.Instance.OnScoreChanged -= UpdateScoreUI;
    }

    if (TimeManager.Instance != null)
    {
        TimeManager.Instance.OnTimeUpdated -= UpdateTimerUI;
    }
}
```

**ì„¤ëª…:**

- `OnDisable()`ì´ í˜¸ì¶œë  ë•Œ `UnsubscribeFromEvents()`ë¥¼ ì‹¤í–‰í•˜ì—¬ ì´ë²¤íŠ¸ êµ¬ë…ì„ í•´ì œí•¨.
- `-= UpdateScoreUI;`ë¥¼ í†µí•´ ë” ì´ìƒ `UpdateScoreUI`ê°€ í˜¸ì¶œë˜ì§€ ì•Šë„ë¡ ì„¤ì •.
- ì´ë¥¼ í†µí•´ **ì”¬ì´ ë³€ê²½ë˜ê±°ë‚˜ ì˜¤ë¸Œì íŠ¸ê°€ ë¹„í™œì„±í™”ë  ë•Œ ì´ë²¤íŠ¸ê°€ ê³„ì† ì°¸ì¡°ë˜ëŠ” ë¬¸ì œë¥¼ ë°©ì§€**í•  ìˆ˜ ìˆìŒ.

------

### **(3) ì ìˆ˜ UI ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**

```
csharpë³µì‚¬í¸ì§‘private void UpdateScoreUI(int score)
{
    if (currentScoreText != null)
    {
        currentScoreText.text = "ì ìˆ˜: " + score.ToString();
    }
}
```

**ì„¤ëª…:**

- `ScoreManager`ì˜ `OnScoreChanged` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë¨.
- `currentScoreText`ë¥¼ ë³€ê²½í•˜ì—¬ **ì ìˆ˜ê°€ ë°”ë€” ë•Œë§ˆë‹¤ UIë¥¼ ìë™ìœ¼ë¡œ ê°±ì‹ **.

------

### **(4) íƒ€ì´ë¨¸ UI ì—…ë°ì´íŠ¸ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬**

```
csharpë³µì‚¬í¸ì§‘private void UpdateTimerUI(float time)
{
    if (timerText != null)
    {
        int minutes = Mathf.FloorToInt(time / 60f);
        int seconds = Mathf.FloorToInt(time % 60f);
        int milliseconds = Mathf.FloorToInt((time * 100f) % 100f);
        timerText.text = string.Format("{0:00}:{1:00}.{2:00}", minutes, seconds, milliseconds);
    }
}
```

**ì„¤ëª…:**

- `TimeManager`ì˜ `OnTimeUpdated` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ ë©”ì„œë“œê°€ ì‹¤í–‰ë¨.
- **ì‹œê°„ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ UIì— ìë™ìœ¼ë¡œ ë°˜ì˜**.

------

## **3. ì „ì²´ì ì¸ ì´ë²¤íŠ¸ íë¦„ ì •ë¦¬**

1. `ScoreManager`ì™€ `TimeManager`ê°€ ê°ê° **ì ìˆ˜ ë³€ê²½ ì´ë²¤íŠ¸**ì™€ **íƒ€ì´ë¨¸ ê°±ì‹  ì´ë²¤íŠ¸**ë¥¼ ê°€ì§€ê³  ìˆìŒ.
2. `UIManager`ëŠ” `SubscribeToEvents()`ì—ì„œ **ì´ë²¤íŠ¸ë¥¼ êµ¬ë…**í•˜ì—¬ ì ìˆ˜ì™€ ì‹œê°„ì„ UIì— ìë™ìœ¼ë¡œ ë°˜ì˜.
3. UIê°€ í•„ìš” ì—†ê±°ë‚˜ ì˜¤ë¸Œì íŠ¸ê°€ ë¹„í™œì„±í™”ë˜ë©´ `UnsubscribeFromEvents()`ì—ì„œ **ì´ë²¤íŠ¸ êµ¬ë… í•´ì œ**.
4. ì ìˆ˜ë‚˜ íƒ€ì´ë¨¸ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ `UpdateScoreUI()`ì™€ `UpdateTimerUI()`ê°€ ì‹¤í–‰ë˜ì–´ UIê°€ ìë™ìœ¼ë¡œ ê°±ì‹ ë¨.

------

## **4. ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ í™œìš©í•˜ëŠ” ì´ìœ **

- íš¨ìœ¨ì ì¸ ì½”ë“œ ê´€ë¦¬:
  - UIë¥¼ ì§ì ‘ í˜¸ì¶œí•˜ì§€ ì•Šê³  ì´ë²¤íŠ¸ë¥¼ í†µí•´ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸.
- ëª¨ë“ˆí™” ê°€ëŠ¥:
  - `ScoreManager`, `TimeManager`, `UIManager`ë¥¼ ë¶„ë¦¬í•˜ì—¬ ìœ ì§€ë³´ìˆ˜ ìš©ì´.
- ì„±ëŠ¥ ìµœì í™”:
  - ë§¤ í”„ë ˆì„ë§ˆë‹¤ UIë¥¼ ê°±ì‹ í•˜ì§€ ì•Šê³ , **ì ìˆ˜ë‚˜ íƒ€ì´ë¨¸ê°€ ë³€ê²½ë  ë•Œë§Œ ê°±ì‹ **í•˜ë„ë¡ êµ¬í˜„.

------

## **5. ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ ì§ì ‘ êµ¬í˜„í•´ë³´ê¸°**

### **(1) ë¸ë¦¬ê²Œì´íŠ¸ì™€ ì´ë²¤íŠ¸ ì„ ì–¸**

```
csharpë³µì‚¬í¸ì§‘public class ScoreManager : MonoBehaviour
{
    public static ScoreManager Instance { get; private set; }

    public delegate void ScoreChanged(int newScore);
    public event ScoreChanged OnScoreChanged;

    private int score;

    private void Awake()
    {
        Instance = this;
    }

    public void AddScore(int amount)
    {
        score += amount;

        // ì ìˆ˜ ë³€ê²½ ì´ë²¤íŠ¸ í˜¸ì¶œ
        OnScoreChanged?.Invoke(score);
    }
}
```

- `OnScoreChanged?.Invoke(score);`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì ìˆ˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì´ë²¤íŠ¸ ì‹¤í–‰.
- `?.` ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ **êµ¬ë…ìê°€ ì—†ì„ ê²½ìš°ì—ë„ ì—ëŸ¬ ì—†ì´ ì‹¤í–‰ë¨**.

------

### **(2) ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³  UIë¥¼ ë³€ê²½**

```
csharpë³µì‚¬í¸ì§‘public class UIManager : MonoBehaviour
{
    [SerializeField] private TextMeshProUGUI scoreText;

    private void OnEnable()
    {
        if (ScoreManager.Instance != null)
        {
            ScoreManager.Instance.OnScoreChanged += UpdateScoreUI;
        }
    }

    private void OnDisable()
    {
        if (ScoreManager.Instance != null)
        {
            ScoreManager.Instance.OnScoreChanged -= UpdateScoreUI;
        }
    }

    private void UpdateScoreUI(int newScore)
    {
        scoreText.text = "ì ìˆ˜: " + newScore.ToString();
    }
}
```

- `OnEnable()`ì—ì„œ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ê³ , `OnDisable()`ì—ì„œ êµ¬ë…ì„ í•´ì œí•¨.
- ì ìˆ˜ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ `UpdateScoreUI()`ê°€ ì‹¤í–‰ë¨.

------

## **6. ê²°ë¡ **

- ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•˜ë©´ **UI ì—…ë°ì´íŠ¸ë¥¼ ìë™í™”**í•˜ê³ , **ì½”ë“œë¥¼ ê¹”ë”í•˜ê²Œ ìœ ì§€**í•  ìˆ˜ ìˆìŒ.
- `UIManager`ê°€ `ScoreManager`ì™€ `TimeManager`ì˜ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…í•˜ì—¬ **ê²Œì„ ë°ì´í„°ë¥¼ UIì— ì¦‰ì‹œ ë°˜ì˜**.
- `UnsubscribeFromEvents()`ë¥¼ í™œìš©í•˜ì—¬ **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€**í•˜ê³  **ë¶ˆí•„ìš”í•œ ì—…ë°ì´íŠ¸ ë°©ì§€**.

ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì„ í™œìš©í•˜ë©´ **ì ìˆ˜ ì‹œìŠ¤í…œ, íƒ€ì´ë¨¸, UI ê°±ì‹  ë“± ë‹¤ì–‘í•œ ê²Œì„ ìš”ì†Œë¥¼ ë” íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬**
