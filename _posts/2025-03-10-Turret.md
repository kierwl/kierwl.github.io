---
layout: single
comments: true
title:  "í„°ë ›"
excerpt: "ìœ ë‹ˆí‹° ê°œì¸ í”„ë¡œì íŠ¸"
categories: 
- ìœ ë‹ˆí‹°
- ìŠ¤íŒŒë¥´íƒ€
tags:
- TIL
 
toc_label: í„°ë ›
toc: true
toc_sticky: true
 
date: 2025-03-10
last_modified_at: 2025-03-10
---



### ğŸ“† ì˜¤ëŠ˜ì˜ TIL (Today I Learned)

---

í”Œë ˆì´ì–´ë¥¼ ë°©í•´í•˜ëŠ” íŠ¸ë©ìš”ì†Œë¥¼ ê°œë°œí•˜ë˜ ì¤‘

ë²”ìœ„ë‚´ì— ë“¤ì–´ì˜¤ë©´ ê³µê²©í•˜ëŠ” í„°ë ›ê°™ì€ ê²ƒì´ ìˆìœ¼ë©´ ì¢‹ê² ë‹¤ê³  ìƒê°í•´ì„œ ë§Œë“¤ê²Œ ë˜ì—ˆë‹¤.

```
private void DetectTarget()
{
    Collider[] colliders = Physics.OverlapSphere(transform.position, detectionRange, targetLayer);

    Transform closestTarget = null;
    float closestDistance = detectionRange;

    foreach (Collider col in colliders)
    {
        Transform potentialTarget = col.transform;
        float distanceToTarget = Vector3.Distance(transform.position, potentialTarget.position);
        Vector3 directionToTarget = (potentialTarget.position - transform.position).normalized;

        
    }

    target = closestTarget;

    if (target != null)
    {
        Debug.Log($"íƒ€ê²Ÿ ì„¤ì • ì™„ë£Œ: {target.name}");
        shoot.SetTarget(target.position);
        shoot.isShooting = true;
    }
    else
    {
        Debug.Log("íƒ€ê²Ÿ ì°¾ê¸° ì‹¤íŒ¨!");
        shoot.isShooting = false;
    }
}
```

í”Œë ˆì´ì–´ë¥¼ ì°¾ëŠ” ë¡œì§ì´ë‹¤. ì½œë¼ì´ë”ë°°ì—´ì— OverlapSphereë¥¼ ì‚¬ìš©í•´ì„œ íƒ€ê²Ÿë ˆì´ì–´ì´ë©°, ì£¼ë³€ì— ê°ì§€ëœ ì½œë¼ì´ë”ë“¤ ì¤‘ ê°€ì¥ ê°€ê¹Œìš´ ê²ƒì„ íƒ€ê²Ÿìœ¼ë¡œ í•œë‹¤.

í•´ë‹¹ ë¡œì§ì„ ì‚¬ìš©í•˜ëŠ”ê²½ìš° OverlapSphere ê°€ ê°ì²´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì›í˜•ì˜ ë²”ìœ„ë¥¼ ê°€ì§€ê²Œ ë˜ê¸° ë•Œë¬¸ì— í”Œë ˆì´ì–´ê°€ ì–´ë””ì— ìˆë“  ì›ì˜ ë°˜ì§€ë¦„ ì•ˆì— ë“¤ì–´ì˜¤ë©´ í”Œë ˆì´ì–´ë¥¼ ì¶”ì í•œë‹¤.

ê·¸ëŸ¬ë‚˜ ë‚´ê°€ ì›í•˜ëŠ” ê²ƒì€ ì „ë°©ì˜ 15~ 60ë„ì˜ ë²”ìœ„ ë§Œì„ ì°¾ì•˜ìœ¼ë©´ í–ˆê³  ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ 

```
// ì „ë°©ì˜ ì›ë¿” í˜•íƒœë¡œ ê°ì§€
        if (Vector3.Dot(transform.forward, directionToTarget) > Mathf.Cos(Mathf.Deg2Rad * 45f)) // 45ë„ ê°ë„ ë‚´ì— ìˆëŠ”ì§€ í™•ì¸
        {
            if (distanceToTarget < closestDistance && !IsObstructed(potentialTarget.position))
            {
                closestTarget = potentialTarget;
                closestDistance = distanceToTarget;
            }
        }
```

í•´ë‹¹ ì½”ë“œë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.

ì›ì˜ ë‘˜ë ˆì¤‘ 45ë„ ë²”ìœ„ ë§ì„ ì‚¬ìš©í•˜ì—¬, 45ë„ê°€ ë„˜ì–´ê°€ëŠ” ì ì€ ê°ì§€ë˜ì§€ ì•Šê²Œ ë˜ì—ˆë‹¤.
